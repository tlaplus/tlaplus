<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- This is file org.lamport.tla.toobox.doc/html/trouble/trouble.html  -->

 
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
 <LINK href="../style.css" rel="stylesheet" type="text/css">

<title>In Case of Trouble</title>
</head>
<!-- a comment here -->

<body>
<h1>In Case of Trouble</h1>

<pre>
Contents
  <a href="#trouble">Getting Out of Trouble</a>
  <a href="#reporting">Reporting Problems</a>
</pre>
 <P> 
The Toolbox is far from perfect.&nbsp;  Below are some hints for getting out of
trouble if it misbehaves, and instructions for reporting bugs.&nbsp;
Please be patient, we're doing the best we can.&nbsp;  We and our other users would greatly
appreciate any help you can give us.&nbsp;  <a href="../help-us/help-us.html">Click
here</a> to find out how you can help.
 </P>

<h2><a name="trouble">Getting Out of Trouble</a></h2>
<p>
Errors in the Toolbox can cause it to get into a bad state.&nbsp;  The best thing to 
do if this happens is to back out of what you were doing and try again.&nbsp;  You should try to back
out only as far as necessary. 
</p>

<h3>Backing Out of a Model</h3>

<p>
If you try running TLC and nothing seems to be happening, 
see <a href="../model/executing-tlc.html#crash">If Something Crashes</a>.&nbsp;
Looking at <a href="../model/executing-tlc.html#console">The TLC Console View</a> can help you figure out
what state TLC is in.&nbsp;  It's possible that the problem is with the model.&nbsp;
A problem with a model can also be caused by editing the model, or by
editing and re-parsing the spec.
</p>

<p>
Closing the model (by clicking on the&nbsp; <samp>X</samp>&nbsp; in the model editor's tab) and re-opening it
(with the&nbsp; <samp>TLC Model Checker/Open Model</samp>&nbsp; menu item) may solve the problem.&nbsp;
If not, try cloning the model and deleting the original.&nbsp; 
(See the <a href="../model/about-models.html"><em>Models</em></a>
help page.)&nbsp;  If the problem persists in the cloned model, try creating a new model.&nbsp;  If that
too has problems, try backing out of the spec.
</p>

<h3>Backing Out of a Spec</h3>
<p>

If the Toolbox gets into a bad state when you're editing a module, or
when you have problem with a TLC model that can't be solved by backing
out of the model, you should try backing out of the spec.&nbsp; 

The first thing to try is closing and re-opening the spec.&nbsp; 
(See the <a href="../spec/opening-closing.html"><em>Manipulating
Specs</em></a> help page.)&nbsp; 

If that doesn't work, try exiting from and then restarting the
Toolbox.&nbsp; 

If that fails, delete the original spec.&nbsp; 

However, if you have models that you don't want to lose, first make a
copy of the <code>.toolbox</code> directory under some other name.&nbsp;

If that works, try creating a new spec with the same root
module.&nbsp;  

If you have saved a copy of the old <code>.toolbox</code> directory,
you can first restore that directory and see if you can open it with
the <code>Import existing</code> option.&nbsp;  

If not, you will have to try creating a new spec with the same modules
but without your saved models.&nbsp;

If you can't restore the spec, see if the problem exists with other
specs.&nbsp;

If it does, you will probably have to back out of the Toolbox.&nbsp;

If not, see if you can figure out what it is about that particular
spec that is causing the problem.

</p>

<h3><a name="backing-out">Backing Out of the Toolbox</a></h3>

<p>
If all else fails, you will have to re-initialize the Toolbox.&nbsp;  This is done by exiting the Toolbox
and deleting all its state information from the disk.&nbsp;  However, before doing this, save the relevant
part of the Toolbox's&nbsp; <code>.log</code>&nbsp; file as described in <a href="#reporting">Reporting Problems</a> below.
</p>
<p>
The Toolbox keeps its state in a folder named&nbsp; <code>workspace</code>&nbsp; that it creates in the
same folder containing the executable file from which you run it.&nbsp;  Deleting (or renaming) that folder (when the Toolbox
is not running) causes the Toolbox
to start in its initial state the next time you execute it.&nbsp;  It will then show no existing specs.&nbsp;
However, the information about the individual specs that existed when you deleted 
the&nbsp; <code>workspace</code>&nbsp; folder is still there.&nbsp;
If you had a spec named&nbsp; <samp>SName</samp>&nbsp;, 
the state of that spec was saved in a folder named&nbsp; <samp>SName.toolbox</samp>&nbsp;.&nbsp;
If you open a spec with that name having the same root module, the Toolbox will give you
the option of reloading that state, which includes the state of all its models.&nbsp;
If you're lucky, that spec will work fine.&nbsp;  If not, you'll have to delete the spec 
(which deletes the&nbsp; <code>.toolbox</code>&nbsp; folder) and re-create
it from scratch.&nbsp;  Of course, the module files will still be there.
</p>

<h2><a name="reporting">Reporting Problems</a></h2>
<p>

We can't fix a problem with the Toolbox if we don't know about
it.&nbsp; 

Please report any problem you encounter--be it a bug or something you
found confusing or poorly explained.&nbsp;  

You can enter a bug report in
 <A href="http://www.tlaplus.net/tools/bugs/", target="_blank">our 
Bugzilla database</A>.&nbsp; 

However, please search the database first to make sure that we don't
already know about it.&nbsp; 

</p>

<p>
When reporting a bug, please include all details.&nbsp; 

It will be helpful if you can include the relevant part of the
Toolbox's log, which is the file named&nbsp; <samp>.log</samp>.&nbsp;

On Windows and Linux, the &nbsp; <samp>.log</samp>&nbsp; file is in
the folder&nbsp; <samp>workspace/.metadata</samp>&nbsp;.&nbsp; 

That folder is in the same folder as the executable file with which
you run the Toolbox.&nbsp; 

On the Mac, it is in the folder&nbsp;
<samp>toolbox.app/Contents/MacOS/workspace/.metadata</samp>,
where&nbsp; <samp>toolbox.app</samp>&nbsp; is the folder that you
execute to run the Toolbox.&nbsp;

(The log contains enough timestamped entries for you to figure out
what part of it relates to the problem you are reporting.)&nbsp;
</p>

<p> 
If you have trouble using the Bugzilla database, please
send your report to 
 <a href="http://lamport.org"  target="_blank">Leslie Lamport</a>.&nbsp;  


</p>

<hr>
<a href = "../contents.html">&uarr; TLA+ Toolbox User's Guide</a>
</hr>
<!-- 
<hr> 
 delete rest of line to comment out 
<dl>
<dt><b><font color=#0000c0>Subtopics</font></b></dt>
<dd> <A href=""> TOPIC </A></dd>
<dd> <A href=""> TOPIC </A></dd>
</dl>
<!-- 
<!-- delete rest of line to comment out 
<a href = ".html">&uarr; HIGHER_LEVEL_TOPIC</a>
<!-- 
</hr>
--> 
</body>
</html>