<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- This is file org.lamport.tla.toobox.doc/html/spec/opening-closing.html -->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
 <LINK href="../style.css" rel="stylesheet" type="text/css">

<title>Manipulating Specs</title>
</head>
<!-- a comment -->

<body>
<h1>Manipulating Specs</h1>
<p>

A specification has a <em>name</em> and a <em>root module</em>, which
is in a file whose extension is <code>.tla</code>.&nbsp;

You will probably give your spec the same name as its root module, but
you need not.&nbsp;

Two different specs cannot have the same name.  Here are the Toolbox's
spec operations.  
</p>

<p>
<b>Warning:</b> if you want to use the <a href="../model/model.html">model checker</a>,
your spec must not contain a module named  <code>MC</code> .
</p>
<h3>Create</h3>

You can create a new spec with the  <samp>File/Open Spec/Add New
Spec... </samp> menu item.&nbsp;

It raises a dialog asking you to choose the root file (which must have
the extension <code>.tla</code>) and the specification name.  


<h3>Open</h3>

You can open an existing spec by choosing it from the  <samp>File/Open
Spec</samp> menu.&nbsp; 

You can also use the 
<a name="spec-explorer"><em>Spec Explorer</em><a>, which is opened either
from the <samp>File</samp> menu or by clicking on the <IMG
SRC="spec-explorer-icon.gif" Align="bottom"/> icon on the left side of
the Toolbox, near the top.&nbsp;

Right-click on the desired spec and select
<samp>Open</samp>.&nbsp;  

If you open a spec when another spec is open, the other spec will
automatically be closed.


<h3>Close</h3>

You can close a spec with the  <samp>File/Close Spec</samp>  menu.&nbsp;

This returns you to the Welcome View.&nbsp;   

However, remember that the Toolbox will close the current spec if you
open another one.

<h3>Rename, Forget, and Delete</h3>

Forgetting a spec means that the Toolbox removes it from the 
Spec Explorer and the list of specs presented by the
<samp>File/Open Spec</samp> menu.&nbsp; 

If you later re-open a spec with the same name in the same folder, then 
you will be able to import to previous spec's models.&nbsp;

Deleting a spec means forgetting it and deleting its models, but not
any of its modules.&nbsp;

Renaming a spec changes the spec's name, but not the name of its root 
module.&nbsp;  


You can rename, forget, or delete or rename an existing spec by opening the Spec Explorer
(described above), right-clicking on the desired spec, and making the
appropriate choice.&nbsp;

<p>

Note: here's how to change the name of both a spec and its root module from
<code>Foo</code> to <code>Bar</code>: Rename spec 
<code>Foo</code> to <code>Bar</code>, save module <code>Foo</code>
as module <code>Bar</code> (using the <samp>File/Save As</samp> 
command), Forget module <code>Bar</code>, and Open a new spec named
<code>Bar</code> with module <code>Bar</code> as its root module.&nbsp;

<h3>Finding Your Spec</h3>

It's easy to forget where in your file system a spec's module files are.&nbsp;
A file's complete path name should appear at the top of the editor window.&nbsp;
You can also find the root-module file's
complete path name by opening the
Spec Explorer view, right-clicking
on the spec's name, and selecting &nbsp;<samp>Properties</samp>&nbsp;.&nbsp;   


(The rest of the spec's module files are in the same folder.)


<h3>Moving a Spec from Elsewhere</h3>

<P> 

Here is how to move an existing spec named  <samp>SName</samp> to a
different folder (directory) on the same computer, or to a different
computer.&nbsp; 

Copy all the spec's module files (the root-module file and its
imported module files) and the folder (directory) named 
<samp> SName.toolbox </samp> to the new location.&nbsp;  

(If you're using TLAPS, also copy the directory <samp>SName.tlaps</samp>.)&nbsp; 
</p>

<p>
If the folder where you're putting the new spec does not have exactly
the same complete path name as the folder containing the original 
spec, then you will have to edit the new copy of the file 
<samp> SName.toolbox/.project </samp>.&nbsp;  That file contains complete
path names of the spec's module files (including modules contained
in libraries, but not standard modules).&nbsp;  Those path names must be
modified in the obvious way to reflect the files' current locations.
</p>
<p>
If there is already a spec named <samp>SName</samp> (which will be
the case if you're moving the spec to a different place on the same
computer), have the Toolbox forget or delete it.&nbsp;  

Open a new specification named <samp>SName</samp> using the new
copy of the root-module file.
 </P>

<h3><A Name="multiple-copies">Keeping Copies of a Spec on Different Computers</A></h3> 

 <p> 
You may want to run the Toolbox on different machines for the same
spec.&nbsp;

Once you've created a spec on one machine, copy the spec's module
files and <samp>.toolbox</samp> directory to the other machine
and use the instructions above to create a copy of the spec on that
machine.&nbsp;

The Toolbox can get confused if a spec or its models is modified from  
from outside the Toolbox.&nbsp;  

So, here's how to import changes to a spec or its models from another
computer onto the computer you're now using.

<p>
<ol> <li> If the spec is open in the Toolbox, close it.
      
     <li> Move the spec's module files, its <samp>.toolbox</samp> directory,
     and its <samp>.tlaps</samp> directory (if you're using TLAPS)
      onto the current machine.&nbsp;  
      
      However, you should either not copy the <samp>.project</samp>
      file from the <samp>.toolbox</samp> directory or else edit 
      the new copy as described
      above if the directories containing the two specifications
      do not have the same complete path name.
      
      <li> Open the Toolbox's <a href="#spec-explorer">Spec Explorer</a>,
         right-click on the spec, and execute
         the <samp>Refresh</samp> command.
</ol>
  You can then open the new version of the spec in the Toolbox.&nbsp; 
  If you change one or more of the spec's module
  files--for example, by using an external text editor--close
  the spec first and execute the <samp>Refresh</samp> command before
  re-opening it.&nbsp;
  Only the Toolbox (running on some computer) should modify  files in the 
  <samp>.toolbox</samp> directory.&nbsp;  There's no problem running
  TLAPS outside the Toolbox. 
   
</p>

<p> If you forget to close the spec before externally modifying its
files, closing the spec and refreshing it may solve the problem.&nbsp;
If it doesn't,
see 
 <a href="../trouble/trouble.html#trouble">Getting Out of Trouble</a>.
</p>

<!-- 
When you modify the spec or its models on one machine, just copy the
module files and <samp>.toolbox</samp> directory to the other
machine.&nbsp;

Strange things can happen if a spec's files (its modules or
the files in its <samp>.toolbox</samp> directory) have changed
since the last time the Toolbox read or wrote them.&nbsp;

It's therefore a good idea to close the Toolbox before copying a
new version of a spec from another machine.&nbsp;

If a spec's files do change while the Toolbox is open, it's a good
idea to right-click on the spec in the <a href="#spec-explorer">Spec Explorer</a> and execute
the <samp>Refresh</samp> command.&nbsp;

If strangeness still occurs, try closing and re-opening the
Toolbox.&nbsp; -->



<hr/> 
 
  
<a href="spec.html">&uarr; Managing Your Specifications</a>
 
<hr/>

